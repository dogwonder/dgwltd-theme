(()=>{class TextareaHandler{constructor(elem){document.querySelectorAll(elem).forEach(textarea=>{textarea.setAttribute("rows",4),this.update(textarea)})}isScrolling(textarea){return textarea.scrollHeight>textarea.clientHeight}grow(textarea){let clientHeight=textarea.clientHeight,rows=this.rows(textarea);for(;this.isScrolling(textarea);){rows++,textarea.rows=rows;var newClientHeight=textarea.clientHeight;if(newClientHeight===clientHeight)break;clientHeight=newClientHeight}}shrink(textarea){var clientHeight=textarea.clientHeight,minRows=parseInt(textarea.dataset.minRows);let rows=this.rows(textarea);for(;!this.isScrolling(textarea)&&rows>minRows&&(rows--,textarea.rows=Math.max(rows,minRows),textarea.clientHeight!==clientHeight);)if(this.isScrolling(textarea)){this.grow(textarea);break}}update(textarea){this.isScrolling(textarea)?this.grow(textarea):this.shrink(textarea)}rows(textarea){return textarea.rows||parseInt(textarea.dataset.minRows)}}document.addEventListener("DOMContentLoaded",function(){(()=>{let externalLinks=document.querySelectorAll('a[rel="external"]');for(let i=0;i<externalLinks.length;i++)externalLinks[i].addEventListener("click",e=>{e.preventDefault(),window.open(externalLinks[i].href)})})(),(()=>{var links=document.querySelectorAll('.scroll[href^="#"]');for(let i=0;i<links.length;i++)links[i].addEventListener("click",function(e){e.preventDefault(),"#"!==this.getAttribute("href")&&(e=this.getAttribute("href"),document.querySelector(e).scrollIntoView({behavior:"smooth"}))})})(),((button,elem,masthead)=>{let toggleButton=document.querySelector(button);if(toggleButton){let menu=document.querySelector(elem),header=document.querySelector(masthead);window.subscribers=[];let state=new Proxy({status:"closed",enabled:!1},{set(state,key,value){let oldState={...state};return state[key]=value,window.subscribers.forEach(callback=>callback(state,oldState)),state}});new ResizeObserver(observedItems=>{var contentRect=observedItems[0].contentRect;contentRect.width<=992?state.enabled=!0:state.enabled=!1,observedItems[0].target.setAttribute("data-enabled",state.enabled)}).observe(header),toggleButton.addEventListener("click",function(event){var open=JSON.parse(toggleButton.getAttribute("aria-expanded"));state.status=open?"closed":"open",toggleButton.setAttribute("aria-expanded",!open),menu.setAttribute("status",state.status),header.classList.toggle("masthead-is-open"),document.body.classList.toggle("nav-open"),document.documentElement.style.setProperty("--submenu-offset",menu.offsetHeight+header.offsetHeight+"px")}),window.addEventListener("keydown",function(event){event.key.includes("Escape")&&(toggleButton.setAttribute("aria-expanded","false"),header.classList.toggle("masthead-is-open"),document.body.classList.toggle("nav-open"),state.status="closed",menu.setAttribute("status",state.status),header)&&(header.classList.remove("masthead-is-open"),document.body.classList.remove("nav-open"))})}})("#nav-toggle","#nav-primary","#masthead"),(()=>{var themeSwitcher=document.getElementById("theme-switcher");let switchTheme=theme=>{"light"===theme?(document.documentElement.dataset.colorScheme="light",localStorage.setItem("mode","light"),document.getElementById("theme-light").checked=!0):"dark"===theme?(document.documentElement.dataset.colorScheme="dark",localStorage.setItem("mode","dark"),document.getElementById("theme-dark").checked=!0):(delete document.documentElement.dataset.colorScheme,localStorage.removeItem("mode"),document.getElementById("theme-system").checked=!0)};themeSwitcher.classList.add("visible");themeSwitcher=localStorage.getItem("mode");switchTheme(themeSwitcher),document.getElementById("theme-light").addEventListener("click",()=>switchTheme("light")),document.getElementById("theme-dark").addEventListener("click",()=>switchTheme("dark")),document.getElementById("theme-system").addEventListener("click",()=>switchTheme("auto"))})(),((elem,masthead)=>{elem=document.querySelector(elem);if(elem){masthead=document.querySelector(masthead);let submenus=elem.querySelectorAll(".menu-item-has-children");elem=new ResizeObserver(observedItems=>{let contentRect=observedItems[0].contentRect;Array.prototype.forEach.call(submenus,function(el,i){let open=JSON.parse(el.querySelector("a").getAttribute("aria-expanded"));992<=contentRect.width&&(el.addEventListener("mouseenter",function(event){var openMenus=document.querySelectorAll(".menu-open");Array.prototype.forEach.call(openMenus,function(nav,i){nav!==this&&(nav.classList.remove("menu-open"),nav.querySelector("a").setAttribute("aria-expanded","false"))}),el.querySelector("a").setAttribute("aria-expanded",!open),el.classList.toggle("menu-open"),document.body.classList.add("masthead-expanded")}),el.addEventListener("mouseleave",function(event){el.querySelector("a").setAttribute("aria-expanded","false"),el.classList.remove("menu-open"),document.body.classList.remove("masthead-expanded")}),window.addEventListener("keydown",function(event){event.key.includes("Escape")&&(document.body.classList.remove("masthead-expanded"),el.querySelector("a").setAttribute("aria-expanded","falqse"),el.classList.remove("menu-open"))}))})});Array.prototype.forEach.call(submenus,function(el,i){var activatingA=el.querySelector("a"),btn='<button class="button-show-subnav"><span>show sub menu for "'+activatingA.text+'"</span></button>';activatingA.insertAdjacentHTML("afterend",btn),el.querySelector("button").addEventListener("click",function(event){Array.prototype.forEach.call(submenus,function(el,i){(el.classList.contains("current-menu-item")||el.classList.contains("current-menu-ancestor"))&&(el.classList.remove("current-menu-item"),el.classList.remove("current-menu-ancestor"))}),this.parentNode.classList.toggle("menu-open");var openMenus=document.querySelectorAll(".menu-open");let currentMenu=this.parentNode;return Array.prototype.forEach.call(openMenus,function(nav,i){nav!==currentMenu&&(nav.classList.remove("menu-open"),nav.querySelector("a").setAttribute("aria-expanded","false"))}),this.parentNode.classList.contains("menu-open")?(this.parentNode.querySelector("a").setAttribute("aria-expanded","true"),this.parentNode.querySelector("button").setAttribute("aria-expanded","true")):(this.parentNode.querySelector("a").setAttribute("aria-expanded","false"),this.parentNode.querySelector("button").setAttribute("aria-expanded","false")),event.preventDefault(),!1})}),elem.observe(masthead)}})("#nav-primary","#masthead"),(elem=>{elem=document.querySelectorAll(elem);elem&&Array.prototype.forEach.call(elem,function(card,i){card.addEventListener("click",function(event){var isTextSelected=window.getSelection().toString();isTextSelected||(window.location=card.dataset.url)})})})(".dgwltd-card"),new TextareaHandler("textarea")})})();