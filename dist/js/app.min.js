(()=>{function A(){return typeof HTMLButtonElement<"u"&&"command"in HTMLButtonElement.prototype&&"source"in((globalThis.CommandEvent||{}).prototype||{})}function L(){document.addEventListener("invoke",t=>{t.type=="invoke"&&t.isTrusted&&(t.stopImmediatePropagation(),t.preventDefault())},!0),document.addEventListener("command",t=>{t.type=="command"&&t.isTrusted&&(t.stopImmediatePropagation(),t.preventDefault())},!0);function u(t,n,o=!0){Object.defineProperty(t,n,{...Object.getOwnPropertyDescriptor(t,n),enumerable:o})}function e(t){return t&&typeof t.getRootNode=="function"?t.getRootNode():t&&t.parentNode?e(t.parentNode):t}let r=new WeakMap,c=new WeakMap;class a extends Event{constructor(n,o={}){super(n,o);let{source:d,command:p}=o;if(d!=null&&!(d instanceof Element))throw new TypeError("source must be an element");r.set(this,d||null),c.set(this,p!==void 0?String(p):"")}get[Symbol.toStringTag](){return"CommandEvent"}get source(){if(!r.has(this))throw new TypeError("illegal invocation");let n=r.get(this);if(!(n instanceof Element))return null;let o=e(n);return o!==e(this.target||document)?o.host:n}get command(){if(!c.has(this))throw new TypeError("illegal invocation");return c.get(this)}get action(){throw new Error("CommandEvent#action was renamed to CommandEvent#command")}get invoker(){throw new Error("CommandEvent#invoker was renamed to CommandEvent#source")}}u(a.prototype,"source"),u(a.prototype,"command");class b extends Event{constructor(n,o={}){throw super(n,o),new Error("InvokeEvent has been deprecated, it has been renamed to `CommandEvent`")}}let l=new WeakMap;function s(t){Object.defineProperties(t.prototype,{commandForElement:{enumerable:!0,configurable:!0,set(n){if(this.hasAttribute("invokeaction"))throw new TypeError("Element has deprecated `invokeaction` attribute, replace with `command`");if(this.hasAttribute("invoketarget"))throw new TypeError("Element has deprecated `invoketarget` attribute, replace with `commandfor`");if(n===null)this.removeAttribute("commandfor"),l.delete(this);else if(n instanceof Element){this.setAttribute("commandfor","");let o=e(n);e(this)===o||o===this.ownerDocument?l.set(this,n):l.delete(this)}else throw new TypeError("commandForElement must be an element or null")},get(){if(this.localName!=="button")return null;if(this.hasAttribute("invokeaction")||this.hasAttribute("invoketarget"))return console.warn("Element has deprecated `invoketarget` or `invokeaction` attribute, use `commandfor` and `command` instead"),null;if(this.disabled)return null;if(this.form&&this.getAttribute("type")!=="button")return console.warn("Element with `commandFor` is a form participant. It should explicitly set `type=button` in order for `commandFor` to work"),null;let n=l.get(this);if(n)return n.isConnected?n:(l.delete(this),null);let o=e(this),d=this.getAttribute("commandfor");return(o instanceof Document||o instanceof ShadowRoot)&&d&&o.getElementById(d)||null}},command:{enumerable:!0,configurable:!0,get(){let n=this.getAttribute("command")||"";if(n.startsWith("--"))return n;let o=n.toLowerCase();switch(o){case"show-modal":case"close":case"toggle-popover":case"hide-popover":case"show-popover":return o}return""},set(n){this.setAttribute("command",n)}},invokeAction:{enumerable:!1,configurable:!0,get(){throw new Error("invokeAction is deprecated. It has been renamed to command")},set(n){throw new Error("invokeAction is deprecated. It has been renamed to command")}},invokeTargetElement:{enumerable:!1,configurable:!0,get(){throw new Error("invokeTargetElement is deprecated. It has been renamed to command")},set(n){throw new Error("invokeTargetElement is deprecated. It has been renamed to command")}}})}let h=new WeakMap;Object.defineProperties(HTMLElement.prototype,{oncommand:{enumerable:!0,configurable:!0,get(){return m.takeRecords(),h.get(this)||null},set(t){let n=h.get(this)||null;n&&this.removeEventListener("command",n),h.set(this,typeof t=="object"||typeof t=="function"?t:null),typeof t=="function"&&this.addEventListener("command",t)}}});function i(t){for(let n of t)n.oncommand=new Function("event",n.getAttribute("oncommand"))}let m=new MutationObserver(t=>{for(let n of t){let{target:o}=n;n.type==="childList"?i(o.querySelectorAll("[oncommand]")):i([o])}});m.observe(document,{subtree:!0,childList:!0,attributeFilter:["oncommand"]}),i(document.querySelectorAll("[oncommand]"));function w(t){if(t.defaultPrevented||t.type!=="click")return;let n=t.target.closest("button[invoketarget], button[invokeaction], input[invoketarget], input[invokeaction]");if(n&&(console.warn("Elements with `invoketarget` or `invokeaction` are deprecated and should be renamed to use `commandfor` and `command` respectively"),n.matches("input")))throw new Error("Input elements no longer support `commandfor`");let o=t.target.closest("button[commandfor], button[command]");if(!o)return;if(o.form&&o.getAttribute("type")!=="button")throw t.preventDefault(),new Error("Element with `commandFor` is a form participant. It should explicitly set `type=button` in order for `commandFor` to work. In order for it to act as a Submit button, it must not have command or commandfor attributes");if(o.hasAttribute("command")!==o.hasAttribute("commandfor")){let g=o.hasAttribute("command")?"command":"commandfor",y=o.hasAttribute("command")?"commandfor":"command";throw new Error(`Element with ${g} attribute must also have a ${y} attribute to function.`)}if(o.command!=="show-popover"&&o.command!=="hide-popover"&&o.command!=="toggle-popover"&&o.command!=="show-modal"&&o.command!=="close"&&!o.command.startsWith("--")){console.warn(`"${o.command}" is not a valid command value. Custom commands must begin with --`);return}let d=o.commandForElement;if(!d)return;let p=new a("command",{command:o.command,source:o,cancelable:!0});if(d.dispatchEvent(p),p.defaultPrevented)return;let f=p.command.toLowerCase();if(d.popover){let g=!d.matches(":popover-open");g&&(f==="toggle-popover"||f==="show-popover")?d.showPopover({source:o}):!g&&f==="hide-popover"&&d.hidePopover()}else if(d.localName==="dialog"){let g=!d.hasAttribute("open");g&&f==="show-modal"?d.showModal():!g&&f==="close"&&d.close()}}function v(t){t.addEventListener("click",w,!0)}function E(t,n){let o=t.prototype.attachShadow;t.prototype.attachShadow=function(p){let f=o.call(this,p);return n(f),f};let d=t.prototype.attachInternals;t.prototype.attachInternals=function(){let p=d.call(this);return p.shadowRoot&&n(p.shadowRoot),p}}s(HTMLButtonElement),E(HTMLElement,t=>{v(t),m.observe(t,{attributeFilter:["oncommand"]}),i(t.querySelectorAll("[oncommand]"))}),v(document),Object.assign(globalThis,{CommandEvent:a,InvokeEvent:b})}A()||L();var S=class extends HTMLElement{constructor(){super()}get url(){return this.getAttribute("url")||window.location.href}get title(){return this.getAttribute("title")||document.title}get description(){let e=document.querySelector('meta[name="description"]');return e?e.getAttribute("content"):""}get hasShareSupport(){return navigator.share}get hasClipboardSupport(){return navigator.clipboard}triggerShare(e){navigator.share({title:this.title,url:this.url,text:this.description}).then(()=>{this.renderAlert("Thanks!",e)}).catch(r=>console.error("Error sharing",r))}copyToClipboard(e){navigator.clipboard.writeText(this.url).then(()=>{this.renderAlert("Copied!",e)}).catch(r=>console.error(r))}renderAlert(e,r,c=3e3){let a=r?r.nextElementSibling:this.querySelector('[role="alert"]');a&&(a.innerText=e,setTimeout(()=>{a.innerText=""},c))}handleClick(e){switch(e.currentTarget.dataset.method){case"share":this.triggerShare(e.currentTarget);return;case"clipboard":this.copyToClipboard(e.currentTarget);return}}assignEvents(){let e=this.querySelectorAll("button");e.length&&e.forEach(r=>r.addEventListener("click",c=>this.handleClick(c)))}connectedCallback(){if(!this.hasShareSupport&&!this.hasClipboardSupport){console.log("No support so revert to MVE");return}this.innerHTML=`
        <ul class="dgwltd-share-actions cluster" role="list">
          ${this.hasShareSupport?`
            <li>
              <button class="button" data-method="share">Share</button>
              <div role="alert"></div>
            </li>
          `:""}
          ${this.hasClipboardSupport?`
            <li>
              <button class="button" data-method="clipboard">Copy URL</button>
              <div role="alert"></div>
            </li>
          `:""}
        </ul>
  
      `,this.assignEvents()}};customElements.define("share-actions",S);var T=992,I=()=>{document.querySelectorAll('a[rel="external"]').forEach(u=>{u.addEventListener("click",e=>{e.preventDefault(),window.open(u.href)})})},x=()=>{document.querySelectorAll('.scroll[href^="#"]').forEach(u=>{u.addEventListener("click",e=>{e.preventDefault(),u.getAttribute("href")!=="#"&&document.querySelector(u.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})},C=(u,e,r)=>{let c=document.querySelector(u);if(!c)return;let a=document.querySelector(e),b=document.querySelector(r);window.subscribers=[];let l={status:"closed",enabled:!1},s=new Proxy(l,{set(i,m,w){let v={...i};return i[m]=w,window.subscribers.forEach(E=>E(i,v)),i}});new ResizeObserver(([{contentRect:i,target:m}])=>{s.enabled=i.width<=T,m.setAttribute("data-enabled",s.enabled)}).observe(b),c.addEventListener("click",()=>{let i=JSON.parse(c.getAttribute("aria-expanded"));s.status=i?"closed":"open",c.setAttribute("aria-expanded",!i),a.setAttribute("status",s.status),b.classList.toggle("masthead-is-open"),document.body.classList.toggle("nav-open"),document.documentElement.style.setProperty("--submenu-offset",a.offsetHeight+b.offsetHeight+"px")}),window.addEventListener("keydown",i=>{i.key.includes("Escape")&&(c.setAttribute("aria-expanded","false"),b.classList.remove("masthead-is-open"),document.body.classList.remove("nav-open"),s.status="closed",a.setAttribute("status",s.status))})},H=()=>{let u=document.getElementById("theme-switcher"),e=r=>{r==="light"?(document.documentElement.dataset.colorScheme="light",localStorage.setItem("mode","light"),document.getElementById("theme-light").checked=!0):r==="dark"?(document.documentElement.dataset.colorScheme="dark",localStorage.setItem("mode","dark"),document.getElementById("theme-dark").checked=!0):(delete document.documentElement.dataset.colorScheme,localStorage.removeItem("mode"),document.getElementById("theme-light").checked=!0)};u.classList.add("visible"),e(localStorage.getItem("mode")),document.getElementById("theme-light").addEventListener("click",()=>e("light")),document.getElementById("theme-dark").addEventListener("click",()=>e("dark"))},M=(u,e)=>{let r=document.querySelector(u);if(!r)return;let c=document.querySelector(e),a=r.querySelectorAll(".menu-item-has-children");new ResizeObserver(([{contentRect:l}])=>{a.forEach(s=>{let h=JSON.parse(s.querySelector("a").getAttribute("aria-expanded"));l.width>=T&&(s.addEventListener("mouseenter",()=>{document.querySelectorAll(".menu-open").forEach(i=>{i!==s&&(i.classList.remove("menu-open"),i.querySelector("a").setAttribute("aria-expanded","false"))}),s.querySelector("a").setAttribute("aria-expanded",!h),s.classList.toggle("menu-open"),s.querySelector(".sub-menu").removeAttribute("hidden"),document.body.classList.add("masthead-expanded")}),s.addEventListener("mouseleave",()=>{s.querySelector("a").setAttribute("aria-expanded","false"),s.classList.remove("menu-open"),s.querySelector(".sub-menu").setAttribute("hidden",""),document.body.classList.remove("masthead-expanded")}),window.addEventListener("keydown",i=>{i.key.includes("Escape")&&(document.body.classList.remove("masthead-expanded"),s.querySelector("a").setAttribute("aria-expanded","false"),s.classList.remove("menu-open"),s.querySelector(".sub-menu").setAttribute("hidden",""))}))})}).observe(c),a.forEach(l=>{let s=l.querySelector("a"),h=document.createElement("button");h.className="button-show-subnav",h.innerHTML=`<span>show sub menu for "${s.text}"</span>`,s.insertAdjacentElement("afterend",h),h.addEventListener("click",i=>{a.forEach(m=>{(m.classList.contains("current-menu-item")||m.classList.contains("current-menu-ancestor"))&&m.classList.remove("current-menu-item","current-menu-ancestor")}),l.classList.toggle("menu-open"),document.querySelectorAll(".menu-open").forEach(m=>{m!==l&&m.classList.remove("menu-open")}),l.classList.contains("menu-open")?(l.querySelector("a").setAttribute("aria-expanded","true"),h.setAttribute("aria-expanded","true"),l.querySelector(".sub-menu").removeAttribute("hidden")):(l.querySelector("a").setAttribute("aria-expanded","false"),h.setAttribute("aria-expanded","false"),l.querySelector(".sub-menu").setAttribute("hidden","")),i.preventDefault()})})},R=u=>{document.querySelectorAll(u).forEach(e=>{let r=e.querySelector(".dgwltd-card__link");r&&e.addEventListener("click",c=>{window.getSelection().toString()||(window.location=r.href)})})},k=class{constructor(e){document.querySelectorAll(e).forEach(r=>{r.setAttribute("rows",4),this.update(r)})}isScrolling(e){return e.scrollHeight>e.clientHeight}grow(e){let r=e.clientHeight,c=this.rows(e);for(;this.isScrolling(e);){c++,e.rows=c;let a=e.clientHeight;if(a===r)break;r=a}}shrink(e){let r=e.clientHeight,c=parseInt(e.dataset.minRows),a=this.rows(e);for(;!this.isScrolling(e)&&a>c&&(a--,e.rows=Math.max(a,c),e.clientHeight!==r);)if(this.isScrolling(e)){this.grow(e);break}}update(e){this.isScrolling(e)?this.grow(e):this.shrink(e)}rows(e){return e.rows||parseInt(e.dataset.minRows)}};document.addEventListener("DOMContentLoaded",()=>{I(),x(),C("#nav-toggle","#nav-primary","#masthead"),H(),M("#nav-primary","#masthead"),R(".dgwltd-card"),new k("textarea")});})();
